{
  "applicationData": {
    "CPUUtilization": 70,
    "NetworkIn": 1000,
    "NetworkOut": 1000,
    "instanceState": "running"
  },
  "events": [
    {
      "attributes": {
        "aws.ec2.instance_id": "${$.resources[name='ec2_instance'].attributes.'aws.ec2.instance_id'}",
        "aws.ec2.state": "${$round_robin(['pending', 'running', 'shutting-down', 'terminated', 'stopping', 'stopped'])}",
        "event.domain": "aws.ec2",
        "event.name": "instance_state_change"
      },
      "condition": "${$random() < 0.1}",
      "resourceSelector": "${$lookup($.resources, 'ec2_instance')}"
    }
  ],
  "metrics": [
    {
      "name": "aws.ec2.cpu_utilization",
      "resourceSelector": "${$lookup($.resources, 'ec2_instance')}",
      "type": "gauge",
      "value": "${$.CPUUtilization}"
    },
    {
      "name": "aws.ec2.network_in",
      "resourceSelector": "${$lookup($.resources, 'ec2_instance')}",
      "type": "sum:delta",
      "value": "${$.NetworkIn}"
    },
    {
      "name": "aws.ec2.network_out",
      "resourceSelector": "${$lookup($.resources, 'ec2_instance')}",
      "type": "sum:delta",
      "value": "${$.NetworkOut}"
    }
  ],
  "resources": [
    {
      "attributes": {
        "aws.ec2.availability_zone": "${$round_robin(['us-east-1a', 'us-east-1b', 'us-east-1c', 'us-east-1d', 'us-east-1e', 'us-east-1f'])}",
        "aws.ec2.instance_id": "${$uuids()}",
        "aws.ec2.instance_type": "${$weighted_round_robin(['t2.micro', 't2.small', 't2.medium', 'm5.large', 'm5.xlarge', 'm5.2xlarge', 'c5.large', 'c5.xlarge', 'c5.2xlarge'], [5, 5, 5, 5, 5, 5, 5, 5, 5])}"
      },
      "count": 50,
      "name": "ec2_instance"
    }
  ]
}